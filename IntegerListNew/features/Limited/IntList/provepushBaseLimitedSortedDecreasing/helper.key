\predicates {
	sorted(int[]);
	containsNewTop(int[], int);
	containsOldElements(int[], int[]);
}

\rules {
	sorted{
		\schemaVar \term int[] list;
		\schemaVar \variable int k;
		\find (sorted(list))
		\varcond (\notFreeIn(k, list))
		\replacewith ((\forall k; (0 <= k & k < list.length-1 -> (list[k] >= list[k+1]))))
		\heuristics(simplify)
	};

	containsNewTop{
		\schemaVar \term int[] list;
		\schemaVar \term int new;
		\schemaVar \variable int z;
		\find (containsNewTop(list, new))
		\varcond (\notFreeIn(z, list), \notFreeIn(z, new))
		\replacewith ((\exists z; (0 <= z & z < list.length -> list[z] = new)))
		\heuristics(simplify)
	};

	containsOldElements{
		\schemaVar \term int[] list;
		\schemaVar \term int[] oldList;
		\schemaVar \variable int z;
		\schemaVar \variable int k;
		\find (containsOldElements(list, oldList))
		\varcond (\notFreeIn(z, list), \notFreeIn(z, oldList), \notFreeIn(k, list), \notFreeIn(k, oldList))
		\replacewith (((\forall k; (0 <= k & k < oldList.length -> (\exists z; (0 <= z & z < list.length & list[z] = oldList[k]))))))
		\heuristics(simplify)
	};

}